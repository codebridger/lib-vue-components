import { describe, it, expect } from "vitest"; import { mount } from "@vue/test-utils"; import DropdownItem from "../DropdownItem.vue"; describe("DropdownItem Component", () => { const createWrapper = (props = {}, slots = {}) => { return mount(DropdownItem, { props, slots }); }; describe("Rendering", () => { it("renders as li element by default", () => { const wrapper = createWrapper(); expect(wrapper.find("li").exists()).toBe(true); }); it("renders with default structure", () => { const wrapper = createWrapper(); const link = wrapper.find("a"); expect(link.exists()).toBe(true); expect(link.attributes("href")).toBe("javascript:;"); }); it("renders with custom class", () => { const wrapper = createWrapper({ class: "custom-item" }); const link = wrapper.find("a"); expect(link.classes()).toContain("custom-item"); }); }); describe("Slot Content", () => { it("renders slot content", () => { const wrapper = createWrapper({}, { default: "<span>Dropdown Item</span>" }); expect(wrapper.text()).toContain("Dropdown Item"); }); it("renders complex slot content", () => { const wrapper = createWrapper({}, { default: "<div><span>Item 1</span><span>Item 2</span></div>" }); expect(wrapper.text()).toContain("Item 1"); expect(wrapper.text()).toContain("Item 2"); }); }); describe("Accessibility", () => { it("supports aria-label", () => { const wrapper = createWrapper({ "aria-label": "Menu item" }); expect(wrapper.attributes("aria-label")).toBe("Menu item"); }); it("supports role attribute", () => { const wrapper = createWrapper({ role: "menuitem" }); expect(wrapper.attributes("role")).toBe("menuitem"); }); it("supports tabindex", () => { const wrapper = createWrapper({ tabindex: "0" }); expect(wrapper.attributes("tabindex")).toBe("0"); }); }); describe("Events", () => { it("emits click event when clicked", async () => { const wrapper = createWrapper(); const link = wrapper.find("a"); await link.trigger("click"); expect(wrapper.emitted("click")).toBeTruthy(); }); }); describe("Edge Cases", () => { it("handles empty slot content", () => { const wrapper = createWrapper({}, { default: "" }); expect(wrapper.exists()).toBe(true); expect(wrapper.find("li").exists()).toBe(true); }); it("handles undefined props gracefully", () => { const wrapper = createWrapper({}); expect(wrapper.exists()).toBe(true); expect(wrapper.find("li").exists()).toBe(true); }); }); });
