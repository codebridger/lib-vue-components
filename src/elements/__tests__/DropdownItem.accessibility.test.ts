import { describe, it, expect } from "vitest"; import { mount } from "@vue/test-utils"; import DropdownItem from "../DropdownItem.vue"; describe("DropdownItem Component Accessibility", () => { const createWrapper = (props = {}, slots = {}) => { return mount(DropdownItem, { props, slots }); }; describe("ARIA Attributes", () => { it("supports custom aria-label", () => { const wrapper = createWrapper({ "aria-label": "Menu item" }); expect(wrapper.attributes("aria-label")).toBe("Menu item"); }); it("supports aria-describedby", () => { const wrapper = createWrapper({ "aria-describedby": "item-description" }); expect(wrapper.attributes("aria-describedby")).toBe("item-description"); }); it("supports role attribute", () => { const wrapper = createWrapper({ role: "menuitem" }); expect(wrapper.attributes("role")).toBe("menuitem"); }); }); describe("Keyboard Navigation", () => { it("supports tabindex", () => { const wrapper = createWrapper({ tabindex: "0" }); expect(wrapper.attributes("tabindex")).toBe("0"); }); it("can be removed from tab order", () => { const wrapper = createWrapper({ tabindex: "-1" }); expect(wrapper.attributes("tabindex")).toBe("-1"); }); }); describe("Screen Reader Support", () => { it("provides meaningful content for screen readers", () => { const wrapper = createWrapper({ "aria-label": "Edit user profile" }, { default: "Edit Profile" }); expect(wrapper.attributes("aria-label")).toBe("Edit user profile"); expect(wrapper.text()).toContain("Edit Profile"); }); it("supports role for menu context", () => { const wrapper = createWrapper({ role: "menuitem", "aria-label": "Delete item" }); expect(wrapper.attributes("role")).toBe("menuitem"); expect(wrapper.attributes("aria-label")).toBe("Delete item"); }); }); });
